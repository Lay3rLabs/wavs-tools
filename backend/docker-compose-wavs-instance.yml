name: "wavs-instances"
services:
  wavs:
    container_name: "${COMPOSE_CONTAINER_NAME:-}"
    image: "${COMPOSE_WAVS_DOCKER_IMAGE:-}"
    stop_signal: SIGTERM
    stop_grace_period: 3s
    environment:
      - WAVS_SUBMISSION_MNEMONIC=${WAVS_SUBMISSION_MNEMONIC:-}
    command: ["wavs", "--home", "/wavs-home", "--data", "/var/${COMPOSE_CONTAINER_NAME:-}", "--port", "${COMPOSE_WAVS_PORT:-}"]
    volumes:
      - "${COMPOSE_WAVS_HOME}:/wavs-home"
    network_mode: "host"